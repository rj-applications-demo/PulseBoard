@host = http://localhost:8080
@devApiKey = {{$dotenv Seed__Dev__ApiKey}}

### Health check
GET {{host}}/
Accept: application/json

### Post an event
POST {{host}}/events
Content-Type: application/json
X-Api-Key: {{devApiKey}}

{
    "eventId": "{{$guid}}",
    "projectKey": "test-project",
    "timestamp": "{{$datetime iso8601}}",
    "payload": {
        "action": "user_login",
        "userId": 123
    }
}

### Post an event with dimension
POST {{host}}/events
Content-Type: application/json
X-Api-Key: {{devApiKey}}

{
    "eventId": "{{$guid}}",
    "projectKey": "test-project",
    "timestamp": "{{$datetime iso8601}}",
    "payload": {
        "amount": 99.99
    },
    "dimensions": [
        { "key": "type", "value": "checkout" }
    ]
}

### ========== METRICS ==========

### Get time series (60 seconds, default)
GET {{host}}/api/metrics/timeseries?projectKey=test-project
Accept: application/json
X-Api-Key: {{devApiKey}}

### Get time series (60 minutes)
GET {{host}}/api/metrics/timeseries?projectKey=test-project&interval=60m
Accept: application/json
X-Api-Key: {{devApiKey}}

### Get time series (24 hours)
GET {{host}}/api/metrics/timeseries?projectKey=test-project&interval=24h
Accept: application/json
X-Api-Key: {{devApiKey}}

### Get time series with dimension filter
GET {{host}}/api/metrics/timeseries?projectKey=test-project&interval=60m&dimension=type:checkout
Accept: application/json
X-Api-Key: {{devApiKey}}

### Get top projects (default: 60m, limit 10)
GET {{host}}/api/metrics/top
Accept: application/json
X-Api-Key: {{devApiKey}}

### Get top projects (24 hours, limit 5)
GET {{host}}/api/metrics/top?interval=24h&limit=5
Accept: application/json
X-Api-Key: {{devApiKey}}

### Get top projects with dimension filter
GET {{host}}/api/metrics/top?interval=60m&dimension=type:checkout&limit=10
Accept: application/json
X-Api-Key: {{devApiKey}}

###
